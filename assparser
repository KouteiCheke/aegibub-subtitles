<?php

declare(strict_types=1);

use Aegisub\Parser;

if (PHP_SAPI) {
    require __DIR__ . '/vendor/autoload.php';

    $arguments = getopt('f:hbac', ['file:', 'help']);

    if (isset($arguments['h']) || isset($arguments['help'])) {
        // TODO command line help.
        die('Help here');
    }

    $filename = $arguments['file'] ?? $arguments['f'] ?? '';

    unset($arguments['file'], $arguments['f']);

    (new Parser())->make($filename, $arguments);
}
